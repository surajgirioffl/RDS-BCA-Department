{% extends "base.html"%}
{%block scale%}0.88{%endblock scale%}
{%block title%} Results - BCA RDS College, Muzaffarpur {%endblock title%}

{% block body%}
{%block script%}<script src="../static/js/result.js"> </script>{%endblock script%}

<div class="main wrapper clearfix data">
  <form action="/result" method="POST">

    <!-- session -->
    <select class="form-select" aria-label="Default select example" name="session" required="true" style="margin-bottom: 0.8%;">
      <option selected value="">Select Session</option>
      <option value="2020-23">2020-23</option>
      <option value="2021-24">2021-24</option>
    </select>

    <!-- semester -->
    <select class="form-select" aria-label="Default select example" name="semester" required="true" style="margin-bottom: 0.8%;">
      <option selected value="">Select Semester</option>
      <option value="1">1st</option>
      <option value="2">2nd</option>
      <option value="3">3rd</option>
      <option value="4">4th</option>
      <option value="5">5th</option>
      <option value="6">6th</option>
    </select>

    <!-- Input of any one of RegistrationNo, ExamRoll, ClassRoll -->
    <select class="form-select" aria-label="Default select example" name="idName" required="true" onchange='fillInputPlaceholder(this)' style="margin-bottom: 0.8%;">
      <option selected value="">Select Id</option>
      <option value="registrationNo">Registration Number</option>
      <option value="examRoll">Exam Roll Number</option>
      <option value="classRoll">Class Roll Number</option>
    </select>

    <!-- Input of any one of RegistrationNo, ExamRoll, ClassRoll -->
    <div class="mb-3">
      <label for="formGroupExampleInput" class="form-label">Input Id</label>
      <input type="text" class="form-control" id="formGroupExampleInput"
        placeholder="Registration Number / Exam Roll Number / Class Roll Number" name="idValue" required="true">
    </div>

    <!-- Submit Button -->
    <div class="col-auto">
      <button type="submit" class="btn btn-primary">Submit</button>
    </div>

  </form>
</div>


<!------------------------------RESULT-------------------------------------->
<!--<p>Data is {{myVariable is undefined}}</p>
{{isSubmitClicked}}
-->
{% if isSubmitClicked%}
    {% if result == None %}
        <div class="alert alert-danger" role="alert">
         Invalid Credentials!
        </div>
    {% else %}
        <div style="width:80%; margin:auto;padding:auto;">
            <table class="table table-bordered border-primary">
              <thead>
                  <th><strong>DETAILS OF {{result.get('Name') | upper}}</strong></th>
                  <th></th>
              </thead>
              {% for key, value in result.items() %}
                  <tr>
                      <td>{{key}}</td>
                      {% if key=="Semester"%}
                        <td>{{value}}
                          {% if value==1%}
                              <sup style="margin:-3px">st</sup>
                          {% elif value==2%}
                              <sup style="margin:-3px">nd</sup>
                          {% elif value==3%}
                              <sup style="margin:-3px">rd</sup>
                          {% else%}
                              <sup style="margin:-3px">th</sup>
                      {% endif%}    
                        </td>
                      {% else %}
                      <td>{{value}}</td>
                      {% endif %}
                  </tr>
              {% endfor %}
            </table>
        </div>
    {% endif %}
{% endif %}

{% endblock body %}